[gd_scene load_steps=7 format=3 uid="uid://whllotc1hiib"]

[ext_resource type="Script" uid="uid://y2m11wlenatn" path="res://addons/rails_character_controller/scenes/character/scripts/state_machine_component.gd" id="1_2i4vu"]
[ext_resource type="Script" uid="uid://phtiogbt3h48" path="res://addons/rails_character_controller/scenes/character/flying_character/xplane/scripts/states/xplane_flying_state.gd" id="2_soh7q"]
[ext_resource type="Script" uid="uid://bmyq2xofmukqa" path="res://addons/rails_character_controller/scenes/character/flying_character/xplane/scripts/states/xplane_boost_state.gd" id="3_w4w88"]
[ext_resource type="Script" uid="uid://bke6r3aufig3i" path="res://addons/rails_character_controller/scenes/character/flying_character/xplane/scripts/states/xplane_break_state.gd" id="4_xmbe1"]
[ext_resource type="Script" uid="uid://c14e8irkvrbv3" path="res://addons/rails_character_controller/scenes/character/flying_character/xplane/scripts/states/xplane_roll_state.gd" id="5_78o86"]
[ext_resource type="Script" uid="uid://bnf3r2m2i7isc" path="res://addons/rails_character_controller/scenes/character/flying_character/xplane/scripts/states/xplane_loop_state.gd" id="6_lm2gv"]

[node name="StateMachine" type="Node" node_paths=PackedStringArray("current_state")]
script = ExtResource("1_2i4vu")
current_state = NodePath("fly")

[node name="fly" type="Node" parent="."]
script = ExtResource("2_soh7q")

[node name="Wobble Timer" type="Timer" parent="fly"]

[node name="boost" type="Node" parent="."]
script = ExtResource("3_w4w88")

[node name="CooldownTimer" type="Timer" parent="boost"]
one_shot = true

[node name="DurationTimer" type="Timer" parent="boost"]
one_shot = true

[node name="break" type="Node" parent="."]
script = ExtResource("4_xmbe1")

[node name="DurationTimer" type="Timer" parent="break"]
one_shot = true

[node name="CooldownTimer" type="Timer" parent="break"]
one_shot = true

[node name="roll" type="Node" parent="."]
script = ExtResource("5_78o86")
_duration_time = 1.0

[node name="loop" type="Node" parent="."]
script = ExtResource("6_lm2gv")

[connection signal="timeout" from="boost/CooldownTimer" to="boost" method="_on_cooldown_timer_timeout"]
[connection signal="timeout" from="boost/DurationTimer" to="boost" method="_on_duration_timer_timeout"]
[connection signal="timeout" from="break/DurationTimer" to="break" method="_on_duration_timer_timeout"]
[connection signal="timeout" from="break/CooldownTimer" to="break" method="_on_cooldown_timer_timeout"]
